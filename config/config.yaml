global:
  environment: development
  metricsAddr: ":9091"
  logLevel: debug
  

  #ssl:
  #  enabled: false
  #  certFile: ""
  #  keyFile: ""

# Per-node scheduler configuration - no global fallback
nodes:
  # Gateway node with explicit autoRefund configuration
  - name: l2-gateway
    module: evm
    httpAddr: "https://arbitrum-one-rpc.publicnode.com"
    # or use environment variable
    # httpAddrEnv: URL_WITH_API_KEY
    
    # Explicit auto-refund configuration for this node
    autoRefund:
      enabled: false
      schedule: "@every 1m"  # Frequent checks for gateway
      faucetUrl: "http://localhost:8080"  # Gateway-specific faucet
      timeout: 30
    
    unit: wei          # Native blockchain unit
    metricsUnit: eth   # Human-readable unit for metrics and comparisons
    httpSSLVerify: false
    accounts:
      - address: "0x5Fadfae7fDCa560e377FF26F26760891251De983"
        # or use environment variable
        # addressEnv: WALLET_ADDRESS
        name: test-1-l2
        # Auto-refund thresholds for this account
        refundThreshold: 0.8  # Trigger refund when balance below refundThreshold to reach refundTarget 
        refundTarget: 1.2     

      - address: "0xa0d2763f12D09efacfdEf6d5656d5Be7bB3E9600"
        name: test-2-l2
        # Different thresholds for backup account
        refundThreshold: 1.7  # Lower threshold for backup
        refundTarget: 2.6     # Lower target for backup

    labels:
      app: l2-gateway
      env: test

  # Gateway node with explicit autoRefund configuration
  - name: conduit-gateway-erc20
    module: erc20
    httpAddr: "https://arbitrum-one-rpc.publicnode.com"
    # or use environment variable
    # httpAddrEnv: URL_WITH_API_KEY

    # Automatically discover ERC20 token metadata (symbol, decimals) during startup
    # If RPC endpoint is unreachable, the exporter will fail to start
    autoUnitDiscovery: true
    # Explicit auto-refund configuration for this node
    autoRefund:
      enabled: false
      schedule: "@every 1m"  # Frequent checks for gateway
      faucetUrl: "http://localhost:8080"  # Gateway-specific faucet
      timeout: 30
    
    httpSSLVerify: false
    contractAddress: "0xB38031951903f798f7114d726c17aB04574e82e8"
    accounts:
      - address: "0xe6DE4F4E3A17be1D0c9d69a0574e78678CDd5e29"
        name: relayer
        refundThreshold: 1.8  # Lower threshold for backup
        refundTarget: 2.6     # Lower target for backup

    labels:
      app: l3-rollup
      env: test



  # Host node with explicit autoRefund configuration
  - name: l1-host
    module: evm
    # public node RPC sepolia
    httpAddr: "https://ethereum-sepolia-rpc.publicnode.com"
    
    # Explicit auto-refund configuration for this node
    autoRefund:
      enabled: false
      schedule: "@every 1m"  # Frequent checks for host
      faucetUrl: "http://localhost:8081"  # Gateway-specific faucet
      timeout: 30
    
    unit: wei          # Native blockchain unit
    metricsUnit: eth   # Human-readable unit for metrics and comparisons
    httpSSLVerify: false
    accounts:
      - address: "0xe6DE4F4E3A17be1D0c9d69a0574e78678CDd5e29"
        name: test-1-l1
        # Auto-refund thresholds for this account
        refundThreshold: 1.3  # Trigger refund when balance below refundThreshold to reach refundTarget
        refundTarget: 1.6     

      - address: "0xfEB8B994c932B00796c52C0df0cbF09eAA010890"
        name: test-2-l1
        # Different thresholds for backup account
        refundThreshold: 1.7  # Lower threshold for backup
        refundTarget: 2.0     # Lower target for backup

    labels:
      app: l1-host
      env: test
