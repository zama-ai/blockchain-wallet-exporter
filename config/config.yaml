global:
  environment: development
  metricsAddr: ":9091"
  logLevel: debug
  

  #ssl:
  #  enabled: false
  #  certFile: ""
  #  keyFile: ""

# Per-node scheduler configuration - no global fallback
nodes:
  # Gateway node with explicit autoRefund configuration
  - name: l2-gateway
    module: evm
    httpAddr: "https://l2-gateway-node-zws-dev-http.diplodocus-boa.ts.net"
    
    # Explicit auto-refund configuration for this node
    autoRefund:
      enabled: true
      schedule: "@every 1m"  # Frequent checks for gateway
      faucetUrl: "http://localhost:8080"  # Gateway-specific faucet
      timeout: 30
    
    unit: wei          # Native blockchain unit
    metricsUnit: eth   # Human-readable unit for metrics and comparisons
    httpSSLVerify: false
    accounts:
      - address: "0xfcD843C3Bf1Dd5Aa3Bd78cdD3e0E28A34ef2fDaE"
        name: test-1-l2
        # Auto-refund thresholds for this account
        refundThreshold: 0.8  # Trigger refund when balance below refundThreshold to reach refundTarget 
        refundTarget: 1.2     

      - address: "0xb3e3EE7CE48eEb7342CEa47B0d2296F5c3D67624"
        name: test-2-l2
        # Different thresholds for backup account
        refundThreshold: 1.3  # Lower threshold for backup
        refundTarget: 1.6     # Lower target for backup

    labels:
      app: l2-gateway
      env: test

  # Host node with explicit autoRefund configuration
  - name: l1-host
    module: evm
    httpAddr: "https://l1-eth-node-zws-dev-http.diplodocus-boa.ts.net"
    
    # Explicit auto-refund configuration for this node
    autoRefund:
      enabled: true
      schedule: "@every 1m"  # Frequent checks for host
      faucetUrl: "http://localhost:8081"  # Gateway-specific faucet
      timeout: 30
    
    unit: wei          # Native blockchain unit
    metricsUnit: eth   # Human-readable unit for metrics and comparisons
    httpSSLVerify: false
    accounts:
      - address: "0xfcD843C3Bf1Dd5Aa3Bd78cdD3e0E28A34ef2fDaE"
        name: test-1-l1
        # Auto-refund thresholds for this account
        refundThreshold: 1.3  # Trigger refund when balance below refundThreshold to reach refundTarget
        refundTarget: 1.6     

      - address: "0xb3e3EE7CE48eEb7342CEa47B0d2296F5c3D67624"
        name: test-2-l1
        # Different thresholds for backup account
        refundThreshold: 1.7  # Lower threshold for backup
        refundTarget: 2.0     # Lower target for backup

    labels:
      app: l1-host
      env: test
